<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="./node_modules/hammerjs/hammer.js"></script>
    <script src="./node_modules/iscroll/build/iscroll-probe.js"></script>
    <title>Document</title>
    <style >
        ul {width: 100%; margin: 0;}
        ul li{ margin: 0; width: 100%; height: 30px; background-color: #ffffff; border-bottom: black  solid 1px; position: relative; display: flex; justify-content: space-between; transition: 0.6s all ease;}
        ul li .btn-del{ width: 0px; height: 30px; background-color: red; right: 0px; position: relative;text-align:center; }
    </style>
    <script>
        window.onload=function(){
            let sms = [
                '1111111',
                '2222222',
                '3333333',
                '4444444',
                '4444444',
                '4444444',
                '4444444',
                '4444444',
                '4444444',
                '4444444',
                '4444444',
                '4444444',
                '4444444',
                '4444444',
                '4444444',
                '4444444',
                '4444444',
                '4444444',
                '4444444',
                '4444444',
                '4444444',
                '4444444',
                '4444444',
                '4444444',
                '4444444',
                '4444444',
                '4444444',
                '4444444',
                '4444444',
                '4444444',
                '5555555'
            ]
            let oul = document.getElementById('oul')
            // sms.forEach(txt=>{
            //     // li 标签
            //     let oli = document.createElement('li')
            //     oli.innerHTML= `<span class="">${ txt }</span><a class="btn-del">删除</a>`
            //     oul.appendChild(oli)
                
            //     let hammer_oli = new Hammer(oli);
            //     // 删除ctrl
            //     let oa = oli.getElementsByTagName('a')[0]
            //     // 初始值
            //     let start_x, start_y
            //     let dir = ""
            //     let delw = 0 
            //     let delw_start 
            //     // 滑动开始
            //    hammer_oli.on('panstart',ev =>{
            //         start_x = ev.center.x
            //         start_y = ev.center.y
            //         dir = ""
            //         delw_start = delw
            //    })
            //     // 滑动中
            //     hammer_oli.on('panmove',ev=>{
            //         // 计算方向
            //         if (dir == "") {
            //             if ( Math.abs( ev.center.x - start_x ) > 5 ) {
            //                 dir = "X"
                            
            //             }else if (Math.abs( ev.center.y - start_y ) > 5 ) {
            //                 dir = "Y"
            //             }
            //         } else {
            //             // 计算删除宽度 并显示宽度
            //             let w = delw_start + start_x - ev.center.x
            //             if (dir = "X" ) {
            //                 // 改变宽度，控制速度
            //                 if (delw < 60) {
            //                     oa.style.width= delw+"px"
            //                 } else {
            //                     // console.log(delw);
                                
            //                     // console.log((delw-60)/100);
                                
            //                     oa.style.width = ((w-60)/10+60)+"px"
            //                 }
            //                 delw = w
            //             } else {
                            
            //             }
                        
            //         }
            //     })
            //     // 滑动结束
            //     hammer_oli.on('panend',ev =>{
            //         oa.style.transition='0.3s all ease';
            //         if (delw < 40) {
            //             oa.style.width= "0px"
            //             delw = 0
            //         } else {
            //             oa.style.width= "80px"
            //             delw = 80
            //         }
            //         console.log(delw);
                    
            //         function fun_end(params) {
            //             oa.style.transition="none"
            //             oa.removeEventListener('transitionend',fun_end)
            //         }
            //         oa.addEventListener('transitionend',fun_end)
            //     })
            // })
            
            
        }
    </script>
</head>
<body>
    <ul id="oul"> 
        <li><span class="">123123</span><div class="btn-del">删除</div></li>
    </ul>
</body>
</html>