<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="./node_modules/hammerjs/hammer.js"></script>
    <title>Document</title>
    <style >
        ul {width: 100%;}
        ul li{width: 100%; height: 30px; background-color: #ffffff; border-bottom: black  solid 1px; position: relative; display: flex; justify-content: space-between; transition: 0.6s all ease;}
        ul li .btn-del{ width: 0px; height: 30px; background-color: red; right: 0px; position: relative;transition:0.3s all ease;  }
    </style>
    <script>
        window.onload=function(){
            let sms = [
                '1111111',
                '2222222',
                '3333333',
                '4444444',
                '5555555'
            ]
            // let oul = document.getElementsByTagName("ul")
            let oul = document.getElementById('oul')
            
            
            sms.forEach(txt=>{
                // li 标签
                let oli = document.createElement('li')
                oli.innerHTML= `<span class="">${ txt }</span><a class="btn-del">删除</a>`
             
                
                oul.appendChild(oli)
                
                let hammer_oli = new Hammer(oli);
                let oa = oli.getElementsByTagName('a')[0]
                hammer_oli.on('swipeleft', ev=>{
                    console.log(123);
                    
                    let arry_btnDel = document.getElementsByClassName('btn-del')
                    Array.from(arry_btnDel).forEach(ctrl=>{
                        console.log(ctrl);
                        
                        // let btn_ctrl = ctrl.children[0]
                        ctrl.style.width='0px'
                    })
                    oa.style.width='80px'
                });
                hammer_oli.on('swiperight', ev=>{
                    oa.style.width='0px'
                })
                oa.onclick=function(){
                    console.log(123);
                    oul.removeChild(oli);
                    // oli.addEventListener('transitionend', function (){
                    //     oul.removeChild(oli);
                    // });
                }
            })
            
            
        }
    </script>
</head>
<body>

    <ul id="oul"> 
        <li><span class="">123123</span><div class="btn-del">删除</div></li>
    </ul>
    
</body>
</html>